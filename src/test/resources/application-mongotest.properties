# MongoDB Test Configuration with Testcontainers

## MongoDB Configuration (Testcontainers will override host/port automatically)
## Do NOT specify host/port here - let Testcontainers manage it via @ServiceConnection
spring.data.mongodb.database=test_arqsoft_library

## Disable MongoDB auto-configuration initially (Testcontainers will enable it)
## This prevents Spring from trying to connect before Testcontainers starts
spring.data.mongodb.auto-index-creation=false

## Disable JPA/Hibernate for MongoDB tests
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
  org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
  org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration

## Disable Redis for pure MongoDB tests
spring.data.redis.repositories.enabled=false

## Logging
logging.level.org.mongodb=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG

## ID Generation
id.generation.strategy=DIGIT_SUFFIX_TIMESTAMP

## File upload directory
file.upload-dir=uploads-test-mongodb

## JWT Configuration (for integration tests)
jwt.private.key=classpath:rsa.private.key
jwt.public.key=classpath:rsa.public.key
